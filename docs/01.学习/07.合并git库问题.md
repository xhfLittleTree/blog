---
title: 合并git库问题
date: 2024-02-20 15:54:00
permalink: /pages/20240220155400/
categories: 
  - 学习
tags: 
  - null
---

## 背景介绍

项目中使用的UI组件库和SDK库分别为两个git,为了同一维护将两个git库合并为一个git库，为了出现问题时好排查问题，保留两个库原有的git提交记录

## 修改方式

1. 创建新的库的目录，初始化git

```js
git init
```

2. 添加要合并库的远程分支

```js
git remote add origin_a https://xxx.xx/a.git
git remote add origin_b https://xxx.xx/b.git
```

3. 看下是否添加成功

```js
git remote -v
```

4. 拉去要合并库的分支，此处以master为例

```js
git fetch origin_a master
git fetch origin_b master
```

5. 合并项目

合并项目a

```js
git merge origin_a/master --allow-unrelated-histories
```
把拉取的文件放到想要放的文件夹中，.git文件不要放

然后提交此次修改

```js
git add .
git commit -m "merge a_master"
```

同理合并项目b

6. 推送本地分支到远程

```js
git remote add origin https://xxx.xx/all.git
git push -u origin master
```

7. 删除本地配置的远程a，b仓库

```js
git remote rm origin_a
git remote rm origin_b
```






